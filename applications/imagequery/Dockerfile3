FROM ubuntu:bionic
RUN apt-get update
RUN apt-get install python3 python3-pip -y
RUN pip3 install nltk
RUN python3 -m nltk.downloader all
RUN pip3 install -U spacy
RUN pip3 install numpy
RUN pip3 install textacy
RUN python3 -m spacy download en_core_web_md

# container will have: preprocess.py, predict.py, server.py
ADD imagequery/c3_nlpMappingGenerator/app /container/
ADD simplerpc/app /container/

CMD ["python3", "/container/server.py", "3", "11000"]

EXPOSE 11000